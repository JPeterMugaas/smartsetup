# ========================================
# TMS Smart Setup configuration file
# Modify this file if needed
# ========================================


# general options that are not "per product".
tms smart setup options:

  # 0 means use the optimum for the cores in the machine (default). 1 means single core. 2 two cores and so on.
  build cores: 0

  # installs the component in an alternate place so you can have different components installed in the same Delphi.
  # see https://stackoverflow.com/questions/9290131/starting-delphi-with-an-alternate-registry-key
  alternate registry key:

  # prevents the machine from going to sleep while smart setup is running. Default is true.
  # note that for this setting to work, "Allow applications to prevent automatic sleep (plugged in)" must be set
  # to Enabled in the Group Policy Settings. See https://github.com/microsoft/PowerToys/issues/12326#issuecomment-1304934080
  prevent sleep: true

  # smart setup will delete the oldest downloaded versions when they reach this count. If you
  # for example set this value to 4, smart setup will keep the last 4 versions of each product, and 
  # versions older than that will be deleted forever. 
  # A value of 0 means to delete all products after unzipped, including the current versions.
  # A value of -1 means to keep all versions and never delete any.
  versions to keep: -1

  # the default behavior of smart setup is to skip Delphi versions and platforms that are not installed.
  # this is normally what you want, so you don't have to manually specify in this file which platforms and Delphi versions
  # to compile. You just leave it to compile all, and smart setup will skip what is not installed.
  # but when running smart setup from a CI or other automated system, you might want to configure exactly what
  # platforms and Delphi IDEs you want to build, and have smart setup return an error code instead of just skipping them.
  # if you set this property true, smart setup will return an error value if it skips any Delphi version or platform.
  error if skipped: false
    
  
  # add to this list the products you don't want to be built/installed
  excluded products:
  #    - tms.example1
  #    - tms.example2

  # if you add at least one item in "included products", then only those will be built/installed.
  # if there are none, all products will be processed.
  included products:
  #    - tms.example1
  #    - tms.example2

  # By default, tms looks for tmsbuild.yaml in folders under the folder where this file is. But you can add additional
  # root folders here, so tms also looks for tmsbuild.yaml files in those folders.
  # All configuration folders (.tmsbuild, Temp, etc) are still under the main root folder, nothing will
  # be generated under the additional folders. This is useful if you want to use tms to build your own code.
  # The folders you add here must be in the same drive as the main root folder.
  additional products folders:
  #   - c:\MyProducts   #All folders containing tmsbuild.yaml files inside c:\MyProducts will be added to the build.
     - ..\landgraf\aws-sdk-delphi
     - ..\landgraf\tms-biz
     - ..\tms\delphi-graphql
#     - ..\tms\TMS VCL UI Pack

# the settings in this section apply to all products. You might apply different settings to specific products below
configuration for all products:
  options:
    # can be info, messages or errors
    verbosity: info

    # if true the components will be compiled but not registered in the IDE.
    # Also the Windows PATH won't be modified when this setting is true.
    skip register: false

    # if true, smart setup will output the commands it wants to execute, but not execute anything
    dry run: false
    
  # specify the IDEs you want to built for and install to.
  # if this option is omitted, it will try to build for all Delphi versions.
  # smart setup will anyway avoid installing to a Delphi version if it is not installed in the machine.
#  delphi versions:
#    - lazarus
#    - delphi7
#    - delphi2005
#    - delphi2006
#    - delphi2007
#    - delphi2009
#    - delphi2010
#    - delphixe
#    - delphixe2
#    - delphixe3
#    - delphixe4
#    - delphixe5
#    - delphixe6
#    - delphixe7
#    - delphixe8
#    - delphiseattle
#    - delphiberlin
#    - delphitokyo
#    - delphirio
#    - delphisydney
#    - delphi11
#    - delphi12

  # specify the platforms you want to be built/installed.
  # if this option is omitted, it will try to build for all platforms supported by the IDE.
  # smart setup will anyway avoid building to a platform if it's not supported or property installed/configured.
  platforms:
    - win32intel
    - win64intel
#    - macos32intel
#    - macos64intel
#    - macos64arm
#    - iosdevice32
#    - iosdevice64
#    - android32
#    - android64
#    - linux64
#    - iossimulator64arm
    - win64xintel

  compilation options:
    debug dcus: true

    # specify compilation directives to be set when building the packages
    defines:
#      - RTTI
#      - USE_UNICODE

  # options for the registration process. 
  # these settings are only used if "skip register" is false. Otherwise, they are ignored.
  registration options:

    # if enabled, adds the source code paths to Delphi library path
    # do not enable this option unless you really need it
    add source code to library path: false

  compiler paths:
    # where lazbuild.exe is located, if you want to build for lazarus.
    lazarus: C:\fpc\lazarus

    # Path to bin\rsvars.bat for specific Delphi IDEs.
    # smart setup will find paths to Delphi automatically from registry keys,
    # so this option is not needed unless you have a build machine you didn't install Delphi to
#    delphi11: E:\Embarcadero\Studio\22.0

# AWS SDK settings
configuration for landgraf.aws.sdk:
  platforms:
    - win32intel
#    - linux64

  compilation options:
    debug dcus: false

  registration options:
    add source code to library path: true

# GraphQL settings

configuration for tms.graphql:
  compilation options:
    debug dcus: false
  registration options:
    add source code to library path: true

# ================================================
# ===== Configurations for TMS BIZ products ======
# ================================================
configuration for tms.biz.*:
  compilation options:
    debug dcus: false
  registration options:
    add source code to library path: true
#  advanced options:
#    keep parallel folders: true
  
configuration for tms.vcl.diagram:
  compilation options:
    debug dcus: false
  registration options:
    add source code to library path: true

configuration for tms.vcl.query:
  compilation options:
    debug dcus: false
  registration options:
    add source code to library path: true

configuration for tms.vcl.workflow:
  compilation options:
    debug dcus: false
  registration options:
    add source code to library path: true

# ===============================================
# ========== End of BIZ configuration ===========
# ===============================================

